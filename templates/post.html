<!-- В контенте на странице мы выводим новость с конкретным id -->
{% extends 'flatpages/default.html' %}

{% block title %}
    {{ page_title }}
{% endblock title %}

<!--  подгружает собственные фильтры для шаблонов -->
{% load custom_filters %}

<!--  карточка новости -->
{% block content %}

<div>
    <h1>{{ post.title|censor }}</h1> by {{ post.author.user.username }}
</div>
<div class="card">
    <div class="card-body">
            {{ post.content|censor }}     
        <hr>
            {{ post.publication_date|date:'d.M.Y' }}
    </div>
    <div>
        <a href="{{request.META.HTTP_REFERER|escape}}" class="card-link">
            Back
        </a>
        {% if page_title == 'Article' %}           
        <a href="{% url 'article_update'  post.id %}" class="card-link">
            Edit
        </a>
        <a href="{% url 'article_delete'  post.id %}" class="card-link">
            Delete
        </a>
        {% endif %}

        {% if page_title == 'News' %}
        <a href="{% url 'news_update'  post.id %}" class="card-link">
            Edit
        </a>
        <a href="{% url 'news_delete'  post.id %}" class="card-link">
            Delete
        </a>
        {% endif %}
    </div>        
</div>
  

{% endblock content %}