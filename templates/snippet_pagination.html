{% load custom_tags %}

<div class="pagination">
    <span class="step-links">

        {% if page_obj.paginator.num_pages != 1 %}
            <!-- вывод информации о предыдуших страницах -->
            {% if page_obj.has_previous %}
                <a href='?{% url_replace page=1 %}' class="card-link">1</a>
                {% if page_obj.previous_page_number != 1 %}
                    ...
                    <a href='?{% url_replace page=page_obj.previous_page_number %}' class="card-link">
                        {{page_obj.previous_page_number}}
                    </a>
                {% endif %}
            {% endif %}

            <!-- вывод информации о текущей странице -->
            <span class="current">
                {{ page_obj.number }}
            </span>

            <!-- вывод информации о следующих страницах -->
            {% if page_obj.has_next %}
                <a href='?{% url_replace page=page_obj.next_page_number %}' class="card-link">
                    {{page_obj.next_page_number}}
                </a>
                {% if page_obj.paginator.num_pages != page_obj.next_page_number %}
                    ...
                    <a href='?{% url_replace page=page_obj.paginator.num_pages %}' class="card-link">
                        {{page_obj.paginator.num_pages}}
                    </a>
                {% endif %}
            {% endif %}
        {% endif %}
    </span>
</div> 