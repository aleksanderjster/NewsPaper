{% load custom_tags %}

<nav aria-label="Page navigation example">
    <ul class="pagination">

            {% if page_obj.paginator.num_pages != 1 %}

                <!-- вывод информации о предыдуших страницах -->
                {% if page_obj.has_previous %}
                    <li class="page-item">
                        <a href='?{% url_replace page=1 %}' class="page-link">
                            1
                        </a>
                    </li>
                    {% if page_obj.previous_page_number != 1 %}
                        <li class="page-item">
                            <button class="page-link">
                                ...
                            </button>
                        </li>
                        <li class="page-item">
                            <a href='?{% url_replace page=page_obj.previous_page_number %}' class="page-link">
                                {{page_obj.previous_page_number}}
                            </a>
                        </li>
                    {% endif %}
                {% endif %}


                <!-- вывод информации о текущей странице -->
                <li class="page-item active">
                    <button class="page-link">
                        {{ page_obj.number }}
                    </button>
                </li>

                <!-- вывод информации о следующих страницах -->
                {% if page_obj.has_next %}
                    <li class="page-item">
                        <a href='?{% url_replace page=page_obj.next_page_number %}' class="page-link">
                            {{page_obj.next_page_number}}
                        </a>
                    </li>
                    {% if page_obj.paginator.num_pages != page_obj.next_page_number %}
                    <li class="page-item">
                        <button class="page-link">
                            ...
                        </button>
                    </li>
                    <li class="page-item">
                        <a href='?{% url_replace page=page_obj.paginator.num_pages %}' class="page-link">
                            {{page_obj.paginator.num_pages}}
                        </a>
                    </li>
                    {% endif %}
                {% endif %}
            {% endif %}
    </ul>
</nav> 